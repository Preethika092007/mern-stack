<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MERN Quiz â€” Attractive UI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* small custom enhancements */
    .choice:hover { transform: translateY(-4px); transition: transform 160ms; }
    .glow {
      box-shadow: 0 8px 30px rgba(99,102,241,0.15), inset 0 -1px 0 rgba(255,255,255,0.02);
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-sky-900 flex items-center justify-center p-6">
  <div class="w-full max-w-3xl">
    <div class="bg-gradient-to-b from-white/5 to-white/3 border border-white/6 rounded-2xl shadow-2xl overflow-hidden">
      <!-- header -->
      <div class="px-6 py-5 flex items-center justify-between gap-4">
        <div class="flex items-center gap-4">
          <div class="w-14 h-14 rounded-xl bg-gradient-to-tr from-indigo-500 to-emerald-400 flex items-center justify-center text-xl font-extrabold text-white glow">M</div>
          <div>
            <h1 class="text-2xl font-semibold leading-tight text-white">MERN Basics â€” Quiz</h1>
            <p class="text-sm text-indigo-200/80">Learn and test â€” quick, stylish, responsive</p>
          </div>
        </div>

        <div class="text-right">
          <div class="text-xs text-indigo-200/70">Question</div>
          <div id="qCount" class="text-lg font-bold text-white">1 / 8</div>
          <div class="text-sm text-indigo-200/70 mt-1">Score: <span id="liveScore">0</span></div>
        </div>
      </div>

      <!-- body -->
      <div class="px-6 pb-6">
        <!-- progress -->
        <div class="h-2 bg-white/6 rounded-full overflow-hidden mb-6">
          <div id="prog" class="h-full bg-gradient-to-r from-emerald-400 to-indigo-500 transition-all" style="width:0%"></div>
        </div>

        <!-- main area -->
        <main id="mainArea" class="min-h-[220px]">
          <!-- injected by JS -->
        </main>

        <!-- footer -->
        <div class="mt-6 flex items-center justify-between gap-4">
          <div id="hint" class="text-sm text-indigo-200/70">Pick an answer â€” your choice is saved when you go back</div>
          <div class="flex items-center gap-3">
            <button id="prevBtn" class="px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/8 disabled:opacity-40" disabled>Previous</button>
            <button id="nextBtn" class="px-5 py-2 rounded-lg bg-gradient-to-r from-indigo-500 to-emerald-400 text-white font-semibold disabled:opacity-40" disabled>Next</button>
          </div>
        </div>
      </div>
    </div>

    <p class="mt-3 text-center text-sm text-indigo-200/60">Tip: Use Previous / Next to navigate. Your selected answers are remembered.</p>
  </div>

<script>
/* QUESTIONS (you can edit/add) */
const QUESTIONS = [
  { q: "What does MERN stand for?", choices: ["MongoDB, Express, React, Node", "MySQL, Express, React, Node", "MongoDB, Ember, React, Node", "MongoDB, Express, Redux, Node"], answer: 0 },
  { q: "Which part runs on the server (backend)?", choices: ["React", "Node + Express", "MongoDB only", "React + Node"], answer: 1 },
  { q: "Which database type is MongoDB?", choices: ["Relational (SQL)", "Key-Value", "Document (NoSQL)", "Graph DB"], answer: 2 },
  { q: "In React, reusable UI blocks are called?", choices: ["Components", "Schemas", "Controllers", "Models"], answer: 0 },
  { q: "Which file lists Node project dependencies?", choices: ["package.json", "app.js", "index.html", "README.md"], answer: 0 },
  { q: "Which HTTP method updates a resource?", choices: ["GET", "POST", "PUT/PATCH", "DELETE"], answer: 2 },
  { q: "What is JSX in React?", choices: ["A CSS framework", "HTML-like syntax in JS", "A DB query language", "A package manager"], answer: 1 },
  { q: "Where install server-side packages?", choices: ["Client folder", "Server folder", "Database", "Browser console"], answer: 1 }
];

/* STATE */
let idx = 0;
const total = QUESTIONS.length;
let userSelections = new Array(total).fill(null); // remembers user choices
let score = 0;

/* REFS */
const mainArea = document.getElementById('mainArea');
const qCount = document.getElementById('qCount');
const liveScore = document.getElementById('liveScore');
const prog = document.getElementById('prog');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const hint = document.getElementById('hint');

/* RENDER QUESTION (remembers selection) */
function render() {
  const Q = QUESTIONS[idx];
  qCount.textContent = `${idx + 1} / ${total}`;
  liveScore.textContent = computeScore();
  prog.style.width = `${Math.round(idx / total * 100)}%`;

  // build card
  mainArea.innerHTML = '';
  const card = document.createElement('div');
  card.className = "bg-white/5 border border-white/6 rounded-xl p-6";

  // header
  const header = document.createElement('div');
  header.innerHTML = `<h2 class="text-xl font-semibold text-white mb-2">${escapeHtml(Q.q)}</h2>
                      <div class="text-sm text-indigo-200/70 mb-4">Select the best answer</div>`;
  card.appendChild(header);

  // choices
  const ul = document.createElement('ul');
  ul.className = 'grid gap-3';
  Q.choices.forEach((choice, i) => {
    const li = document.createElement('li');
    const sel = userSelections[idx];
    const isSelected = sel === i;

    li.className = "choice flex items-center justify-between gap-4 p-3 rounded-lg border cursor-pointer";
    // base styling
    li.classList.add('bg-white/3','border-white/6','text-white');
    if (isSelected) {
      li.classList.add('bg-indigo-600/20','ring-1','ring-indigo-400');
    }
    li.innerHTML = `
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-md bg-white/6 flex items-center justify-center font-bold text-sm">${String.fromCharCode(65+i)}</div>
        <div class="text-sm">${escapeHtml(choice)}</div>
      </div>
      <div class="text-sm">${isSelected ? 'Selected' : ''}</div>
    `;
    li.addEventListener('click', () => {
      userSelections[idx] = i;            // save selection
      // if user picks final answer for first time (optional logic): no immediate score change â€” compute at end
      // Re-render to show selection highlight
      render();
      nextBtn.disabled = false;
      hint.textContent = 'Answer saved â€” you can change it or move Next.';
    });
    ul.appendChild(li);
  });

  card.appendChild(ul);
  mainArea.appendChild(card);

  // controls state
  prevBtn.disabled = idx === 0;
  nextBtn.disabled = userSelections[idx] === null;
  hint.textContent = userSelections[idx] === null ? 'Pick an answer to continue' : 'Answer saved â€” you can change it before moving on';
}

/* NAVIGATION */
prevBtn.addEventListener('click', () => {
  if (idx > 0) {
    idx--;
    render();
  }
});
nextBtn.addEventListener('click', () => {
  if (idx + 1 < total) {
    idx++;
    render();
  } else {
    showResult();
  }
});

/* SHOW RESULT */
function computeScore() {
  let s = 0;
  for (let i = 0; i < total; i++) {
    if (userSelections[i] === QUESTIONS[i].answer) s++;
  }
  return s;
}

function showResult() {
  const final = computeScore();
  prog.style.width = '100%';
  mainArea.innerHTML = `
    <div class="text-center py-8">
      <div class="text-sm text-indigo-200/70 mb-2">Quiz Complete</div>
      <div class="text-5xl font-extrabold text-white mb-2">${final} <span class="text-lg font-medium">/ ${total}</span></div>
      <div class="text-sm text-indigo-200/70 mb-4">${final === total ? "Perfect! MERN master ðŸŒŸ" : final >= Math.ceil(total*0.7) ? "Great job!" : "Keep practicing â€” you got this!"}</div>
      <div class="flex items-center justify-center gap-3">
        <button id="restartBtn" class="px-5 py-2 rounded-lg bg-indigo-500 text-white font-semibold">Restart</button>
        <button id="reviewBtn" class="px-4 py-2 rounded-lg bg-white/6 text-white">Review Answers</button>
      </div>
    </div>
  `;
  prevBtn.disabled = true;
  nextBtn.disabled = true;

  document.getElementById('restartBtn').addEventListener('click', () => {
    userSelections = new Array(total).fill(null);
    idx = 0;
    render();
  });
  document.getElementById('reviewBtn').addEventListener('click', reviewAnswers);
  hint.textContent = 'See your final score above';
}

/* REVIEW */
function reviewAnswers() {
  qCount.textContent = 'Review';
  prog.style.width = '100%';
  mainArea.innerHTML = '';
  QUESTIONS.forEach((Q, qi) => {
    const wrap = document.createElement('div');
    wrap.className = 'bg-white/5 border border-white/6 rounded-xl p-4 mb-4';
    const userSel = userSelections[qi];
    wrap.innerHTML = `<h3 class="text-md font-semibold text-white mb-1">${escapeHtml(Q.q)}</h3>
                      <div class="text-xs text-indigo-200/70 mb-3">Correct: ${String.fromCharCode(65+Q.answer)}${userSel === null ? ' (no answer)' : ' â€” You: ' + String.fromCharCode(65+userSel)}</div>`;
    const ul = document.createElement('ul');
    ul.className = 'grid gap-2';
    Q.choices.forEach((c,i) => {
      const li = document.createElement('li');
      li.className = 'flex items-center justify-between p-2 rounded-md';
      if (i === Q.answer) li.classList.add('bg-emerald-700/20','border','border-emerald-400/20','text-white');
      else if (i === userSel) li.classList.add('bg-rose-700/20','text-white');
      else li.classList.add('bg-white/6','text-white');
      li.innerHTML = `<div class="flex items-center gap-3"><div class="w-8 h-8 rounded-sm bg-white/6 flex items-center justify-center font-bold">${String.fromCharCode(65+i)}</div><div class="text-sm">${escapeHtml(c)}</div></div>
                      <div class="text-sm">${i === Q.answer ? 'âœ”' : (i === userSel ? 'Your choice' : '')}</div>`;
      ul.appendChild(li);
    });
    wrap.appendChild(ul);
    mainArea.appendChild(wrap);
  });
  hint.textContent = 'Review the correct answers (green) and your choices (red).';
  prevBtn.disabled = true;
  nextBtn.disabled = true;
}

/* UTIL */
function escapeHtml(str) { return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

/* start */
render();
</script>
</body>
</html>
